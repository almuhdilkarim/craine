#!/bin/bash

set -e



## TAKE OPTIONS
while getopts "o:n:b:m:" opt; do
    case $opt in
        o) proc="${OPTARG}"
        ;;
        n) name="${OPTARG}"
        ;;
        b) base="${OPTARG}"
        ;;
        m) mode="${OPTARG}"
        ;;
    esac
done


## CRAINE ENVI
craine_base=$base
craine_name=$name
craine_mode=$mode
craine_devs=true
craine_libs="/var/lib/craine" 
test -n $crdevs_stat && craine_libs=$(pwd)/library
source "$craine_libs/corest/loader"


## CRAINE MAIN
if [[ $proc == "desktop" ]];then
    craine_guimode
elif [[ $proc == "guides" ]];then
    craine_diamode
elif [[ $proc == "tester" ]];then
    craine_testers
elif [[ $proc == "update" ]];then
    craine_updates
elif [[ $proc == "editor" ]];then
    craine_editors
elif [[ $proc == "create" ]];then
    craine_builder
else
    notifer_error 'Command parameter not found'
fi
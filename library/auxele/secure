#!/bin/env bash


set -e



## VALIDATION

function craine_varauth_noval() {
    if [[ -z $craine_auth ]];then
        craine_loging_errors "Missing author parameter"   
    fi
}

function craine_varbase_noval() {
    if [[ -z $craine_base ]];then
        craine_loging_errors "Missing group parameter"   
    fi
}

function craine_varname_noval() {
    if [[ -z $craine_name ]];then
        craine_loging_errors "Missing name parameter"   
    fi
}

function craine_varlink_noval() {
    if [[ -z $craine_link ]];then
        craine_loging_errors "Missing link parameter"   
    fi
}

function craine_varpitc_noval() {
    if [[ -z $craine_pitc ]];then
        craine_loging_errors "Missing level parameter"   
    fi
}

function craine_vardirs_noval() {

    if [[ ! -d $1 ]]; then
        craine_loging_errors "target directory does not exist"   
    fi
}

function craine_varrepo_noval() {
    git ls-remote --exit-code $craine_link > /dev/null 2>&1 &&

    if [[ $? != 0 ]]; then
        craine_loging_errors "remote source does not existed"
    fi
}

function craine_varinet_noval() {

    if ping -c 1 "8.8.8.8" > /dev/null; then
        echo "" > /dev/null
    else
        craine_loging_errors "connection error, please check internet connection"
    fi

}


function craine_varrepo_exist() {

    craine_varlink_noval &&
    git ls-remote --exit-code $craine_link > /dev/null 2>&1 &&

    if [ $? -eq 0 ]; then
        echo true
    else
        echo $?
    fi
}

function craine_vardirs_noval() {

    if [[ -d $1 ]]; then
        craine_loging_errors "installation directory is exist" 
    fi
}

function craine_varpres_noval() {

    if [[ -d "$craine_preset/$craine_name" ]]; then
        craine_loging_errors "installation directory is exist" 
    fi
}


function craine_varinet_exist() {

    if ping -c 1 "8.8.8.8" > /dev/null; then
        echo true
    else
        echo false
    fi
}


function craine_regists_token() {
    echo "token registraion"
}

function craine_revokes_token() {
    echo "token revok"
}
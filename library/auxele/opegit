#!/bin/env bash
# Git operation


set -e


function craine_gitrepo_clone() {
    
    local remote_source=$1
    local locals_source=$2

    craine_loging_inform "preparing remote sources meta"
    git clone $remote_source $locals_source

    if [ $? -eq 0 ]; then
        craine_loging_inform "remote source directory clone"
    else
        craine_loging_errors "failed to clone remote source"
    fi

    unset remote_source
    unset locals_source
}

function craine_gitrepo_major() {
    echo "push minior"
}

function craine_gitrepo_minor() {
    echo "push minior"
}

function craine_gitrepo_patch() {

    
    local locals_repo="$1"

    
    if [[ -d "$locals_repo" ]]; then

        craine_loging_inform "preparing locals source data" &&
        cd $locals_repo && git add . > /dev/null 2>&1  && 
 
        craine_loging_inform "commiting locals source data" &&
        cd $locals_repo && git commit -m "first commit" > /dev/null 2>&1

        craine_loging_inform "push patchs to remote source" &&
        cd $locals_repo && git push > /dev/null 2>&1 
    fi


    unset locals_repo
}

function craine_gitrepo_pulls() {

    if [[ -d $1 ]]; then

        craine_loging_inform "preparing remote sources meta" && cd $1 &&
        craine_loging_inform "remote source directory clone" && git pull > /dev/null 2>&1 
    
    else

        craine_loging_errors "clone failed, invalid remote source"

    fi

    unset $1
}
